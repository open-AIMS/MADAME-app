@if (data(); as data) {
<mat-tab-group>
    <mat-tab label="Intervention"></mat-tab>
    <mat-tab label="Environment"></mat-tab>
    <mat-tab label="Coral">
      <!-- TODO heritability field by itself -->
        <ng-template matTabContent>
            <table mat-table [dataSource]="coralDataSource">
              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef>Coral Group</th>
                <td mat-cell *matCellDef="let row">{{ row.name }}</td>
              </ng-container>

              <ng-container matColumnDef="growth_rate">
                <th mat-header-cell *matHeaderCellDef>Growth Rate</th>
                <td mat-cell *matCellDef="let row">{{ row.growth_rate.val }}</td>
              </ng-container>

              <ng-container matColumnDef="fecundity">
                <th mat-header-cell *matHeaderCellDef>Fecundity</th>
                <td mat-cell *matCellDef="let row">{{ row.fecundity.val }}</td>
              </ng-container>

              <ng-container matColumnDef="mean_colony_diameter_m">
                <th mat-header-cell *matHeaderCellDef>Mean Colony Diameter (m)</th>
                <td mat-cell *matCellDef="let row">{{ row.mean_colony_diameter_m.val }}</td>
              </ng-container>

              <ng-container matColumnDef="mb_rate">
                <th mat-header-cell *matHeaderCellDef>MB Rate</th>
                <td mat-cell *matCellDef="let row">{{ row.mb_rate.val }}</td>
              </ng-container>

              <ng-container matColumnDef="dist_mean">
                <th mat-header-cell *matHeaderCellDef>Dist Mean</th>
                <td mat-cell *matCellDef="let row">{{ row.dist_mean.val }}</td>
              </ng-container>

              <ng-container matColumnDef="dist_std">
                <th mat-header-cell *matHeaderCellDef>Dist STD</th>
                <td mat-cell *matCellDef="let row">{{ row.dist_std.val }}</td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="coralColumns; sticky: true"></tr>
              <tr mat-row *matRowDef="let row; columns: coralColumns;"></tr>
            </table>
        </ng-template>
    </mat-tab>
    <mat-tab label="Misc"></mat-tab>
    <mat-tab label="Raw Table">
        <ng-template matTabContent>
            <app-dataframe-table [data]="data"></app-dataframe-table>
        </ng-template>
    </mat-tab>
</mat-tab-group>
}
